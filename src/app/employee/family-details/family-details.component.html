<div class="row section-container">
  <h4>Family Details</h4>
  <hr>
  <div [formGroup]="familyDetailsForm">
    <div class="row form-group">
      <div class="col-xs-4">
        <label>Father's Name</label>
        <input
          required
          type="text"
          class="form-control"
          id="fatherName"
          name="fatherName"
          pattern="[a-zA-Z ]*"
          formControlName="fatherName"
          autocomplete="off"
          [requiredErrorMessage]="'Father\'s Name is required'"
          [patternErrorMessage]="'Only alphabets are allowed'"
          [appValidate]="familyDetailsForm.get('fatherName')" />
      </div>
      <div class="col-xs-4">
        <label>Father's DOB</label>
        <input
          required
          type="text"
          id="fatherDob"
          class="form-control"
          placeholder="yyyy-mm-dd"
          name="fatherDob"
          formControlName="fatherDob"
          autocomplete="off"
          ngbDatepicker
          #fdob="ngbDatepicker"
          (click)="fdob.open()"
          ng-readonly="true"
          [minDate]="{year: 1900, month: 01, day: 01}"
          [maxDate]="{year: 2000, month: 12, day: 31}"
          [requiredErrorMessage]="'Father\'s Date of birth is required'"
          [appValidate]="familyDetailsForm.get('fatherDob')" />
      </div>
    </div>
    <div class="row form-group">
      <div class="col-xs-4">
        <label>Mother's Name</label>
        <input
          required
          type="text"
          class="form-control"
          id="motherName"
          name="motherName"
          pattern="[a-zA-Z ]*"
          formControlName="motherName"
          autocomplete="off"
          [requiredErrorMessage]="'Mother\'s Name is required'"
          [patternErrorMessage]="'Only alphabets are allowed'"
          [appValidate]="familyDetailsForm.get('motherName')" />
      </div>
      <div class="col-xs-4">
        <label>Mother's DOB</label>
        <input
          required
          type="text"
          id="motherDob"
          class="form-control"
          placeholder="yyyy-mm-dd"
          name="motherDob"
          formControlName="motherDob"
          autocomplete="off"
          ngbDatepicker
          #mdob="ngbDatepicker"
          (click)="mdob.open()"
          ng-readonly="true"
          [minDate]="{year: 1900, month: 01, day: 01}"
          [maxDate]="{year: 2000, month: 12, day: 31}"
          [requiredErrorMessage]="'Mother\'s Date of birth is required'"
          [appValidate]="familyDetailsForm.get('motherDob')" />
      </div>
    </div>
    <div class="row form-group">
      <div class="col-xs-4">
        <label>Spouse's Name</label>
        <input
          required
          type="text"
          class="form-control"
          id="spouseName"
          name="spouseName"
          pattern="[a-zA-Z ]*"
          formControlName="spouseName"
          autocomplete="off"
          [requiredErrorMessage]="'Spouse\'s Name is required'"
          [patternErrorMessage]="'Only alphabets are allowed'"
          [appValidate]="familyDetailsForm.get('spouseName')" />
      </div>
      <div class="col-xs-4">
        <label>Spouse's DOB</label>
        <input
          required
          type="text"
          id="spouseDob"
          class="form-control"
          placeholder="yyyy-mm-dd"
          name="spouseDob"
          formControlName="spouseDob"
          autocomplete="off"
          ngbDatepicker
          #sdob="ngbDatepicker"
          (click)="sdob.open()"
          ng-readonly="true"
          [minDate]="{year: 1900, month: 01, day: 01}"
          [maxDate]="{year: 2000, month: 12, day: 31}"
          [requiredErrorMessage]="'Spouse\'s Date of birth is required'"
          [appValidate]="familyDetailsForm.get('spouseDob')" />
      </div>
    </div>
    <div>
      <div formArrayName="children">
        <div class="row form-group" *ngFor="let child of childrenControls(); let i = index" >
          <div formGroupName="{{i}}">
            <div class="col-xs-4">
              <label>Child {{ i+1 }} Name</label>
              <input
                required
                type="text"
                class="form-control"
                pattern="[a-zA-Z ]*"
                formControlName="childName"
                autocomplete="off"
                [requiredErrorMessage]="'Child\'s Name is required'"
                [patternErrorMessage]="'Only alphabets are allowed'"
                [appValidate]="child.get('childName')" />
            </div>
            <div class="col-xs-4">
              <label>Child {{ i+1 }} DOB</label>
              <input
                required
                type="text"
                class="form-control"
                placeholder="yyyy-mm-dd"
                formControlName="childDob"
                autocomplete="off"
                ngbDatepicker
                #cdob="ngbDatepicker"
                (click)="cdob.open()"
                ng-readonly="true"
                [minDate]="{year: 2000, month: 01, day: 01}"
                [requiredErrorMessage]="'Child\'s Date of birth is required'"
                [appValidate]="child.get('childDob')" />
            </div>
            <div class="col-xs-1">
              <label></label>
              <button class="btn btn-default" type="button" (click)="deleteChild(i)">Remove Child</button>
            </div>
          </div>
        </div>
      </div>
      <button class="btn btn-default" type="button" (click)="addChild()">Add Child</button>
    </div>
  </div>
</div>

